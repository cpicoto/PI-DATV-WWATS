# ===== W# Video input device (UVC camera)
VIDEO_DEV=/dev/video0                  # Usually /dev/video0 for first camera
VIDEO_WIDTH=1280                       # Resolution width (1920, 1280, 640, etc.)
VIDEO_HEIGHT=720                       # Resolution height (1080, 720, 480, etc.)
VIDEO_FPS=15                          # Frame rate (15, 30, 25, etc.) - lower for better stability

# Camera input format (leave blank for auto-detection)
# Common values: mjpeg, yuyv422, or blank
# Set this if you have camera compatibility issues
VIDEO_INPUT_FORMAT=mjpeg

# Audio input (ALSA device)
AUDIO_DEV=default                      # Usually 'default' or 'plughw:1,0' for USB mic
AUDIO_RATE=48000                       # Sample rate (48000 recommended)ONFIG =====
# Configuration file for PI-DATV-WWATS Raspberry Pi streaming station
# Copy this file to /etc/rtmp-streamer.env and edit the values below

# REQUIRED: RTMP streaming destination
RTMP_BASE=rtmp://streaming.wwats.net/live
RTMP_CALLSIGN=AD7NP                    # CHANGE THIS to your amateur radio callsign
RTMP_TOKEN=REPLACE_WITH_YOUR_JWT       # CHANGE THIS to your JWT token from WWATS

# Video input device (UVC camera)
VIDEO_DEV=/dev/video0                  # Usually /dev/video0 for first camera
VIDEO_WIDTH=1280                       # Resolution width (1280, 1920, 640, etc.)
VIDEO_HEIGHT=720                       # Resolution height (720, 1080, 480, etc.)
VIDEO_FPS=15                          # Frame rate (15, 30, 25, etc.) - lower for better stability

# Camera input format (leave blank for auto-detection)
# Common values: mjpeg, yuyv422, or blank
# Set this if you have camera compatibility issues
VIDEO_INPUT_FORMAT=mjpeg

# Audio input (ALSA device)
AUDIO_DEV=default                      # Usually 'default' or 'plughw:1,0' for USB mic
AUDIO_RATE=48000                       # Sample rate (48000 recommended)

# GPIO pin configuration
BUTTON_GPIO=17                         # GPIO pin for physical button (pin 11)
LED_GPIO=27                           # GPIO pin for status LED (pin 13), or 0 to disable

# Video encoding settings (H.264 encoding done on Raspberry Pi)
ENCODER=libx264                       # Software encoder (libx264) or 'h264_v4l2m2m' for hardware
BITRATE=1000k                         # Video bitrate (1000k, 1500k, 2000k, etc.)
GOP_SECONDS=1                         # Keyframe interval in seconds
PROFILE=                              # H.264 profile (leave blank for default)
VF_FILTER=                            # Optional video filters (leave blank normally)

# HDMI preview and split-screen display
ENABLE_TEE_PREVIEW=1                   # Enable local preview for HDMI display (1=yes, 0=no)
PREVIEW_UDP_URL=udp://127.0.0.1:23000?pkt_size=1316  # Local UDP stream for preview

# Split-screen display settings
REMOTE_URL=https://stream.wwats.net/   # Remote stream to show on right side of screen
SCREEN_W=1920                         # HDMI display width
SCREEN_H=1080                         # HDMI display height
OVERLAY_FONT=/usr/share/fonts/truetype/dejavu/DejaVuSans.ttf  # Font for overlay text

# Web user interface
ENABLE_UI=1                           # Enable web UI (1=yes, 0=no)
UI_PORT=8080                          # Web UI port (access via http://pi-ip:8080)

# Automatic reconnection settings
RECONNECT_WAIT=2                      # Seconds to wait before reconnecting after failure
MAX_RECONNECT=0                       # Max reconnection attempts (0=unlimited)

# ===== IMPORTANT SECURITY NOTE =====
# This file contains your RTMP_TOKEN which is sensitive!
# Keep this file secure with: sudo chmod 600 /etc/rtmp-streamer.env
# Only root and the streaming service should be able to read it.
